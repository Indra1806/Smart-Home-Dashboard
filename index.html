<html class="scroll-smooth" lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Smart Home Control Dashboard
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet"/>
  <style>
   html,
    body {
      font-family: 'Inter', sans-serif;
      background-color: #121212;
      color: #e0e0e0;
    }
    /* Neumorphic style for toggles and sliders */
    .neumorphic {
      background: #1e1e1e;
      box-shadow:
        4px 4px 6px #0a0a0a,
        -4px -4px 6px #2c2c2c;
      border-radius: 12px;
      transition: box-shadow 0.2s ease;
    }
    .neumorphic:active {
      box-shadow:
        inset 4px 4px 6px #0a0a0a,
        inset -4px -4px 6px #2c2c2c;
    }
    /* Toggle switch */
    .toggle-checkbox:checked + .toggle-label {
      background-color: #4ade80;
      box-shadow:
        inset 4px 4px 6px #3bbf5a,
        inset -4px -4px 6px #56d97a;
    }
    .toggle-checkbox:checked + .toggle-label .toggle-button {
      transform: translateX(1.5rem);
      background-color: #166534;
      box-shadow:
        2px 2px 4px #0f3d1a,
        -2px -2px 4px #1e6a2b;
    }
    /* Slider thumb */
    input[type='range']::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 24px;
      height: 24px;
      background: #4ade80;
      border-radius: 50%;
      cursor: pointer;
      box-shadow:
        2px 2px 4px #3bbf5a,
        -2px -2px 4px #56d97a;
      transition: background-color 0.2s ease;
      border: none;
      margin-top: -10px;
      position: relative;
      z-index: 10;
    }
    input[type='range']::-webkit-slider-thumb:active {
      background: #166534;
      box-shadow:
        inset 2px 2px 4px #0f3d1a,
        inset -2px -2px 4px #1e6a2b;
    }
    input[type='range']::-moz-range-thumb {
      width: 24px;
      height: 24px;
      background: #4ade80;
      border-radius: 50%;
      cursor: pointer;
      box-shadow:
        2px 2px 4px #3bbf5a,
        -2px -2px 4px #56d97a;
      border: none;
      transition: background-color 0.2s ease;
      position: relative;
      z-index: 10;
    }
    input[type='range']::-moz-range-thumb:active {
      background: #166534;
      box-shadow:
        inset 2px 2px 4px #0f3d1a,
        inset -2px -2px 4px #1e6a2b;
    }
  </style>
 </head>
 <body class="min-h-screen flex flex-col">
  <header class="flex items-center justify-between px-6 py-4 border-b border-gray-700">
   <h1 class="text-2xl font-semibold tracking-wide">
    Smart Home Dashboard
   </h1>
   <button aria-label="Toggle Dark Mode" class="text-gray-400 hover:text-green-400 focus:outline-none focus:ring-2 focus:ring-green-400 rounded" id="toggleDarkMode" title="Toggle Dark Mode">
    <i class="fas fa-moon fa-lg">
    </i>
   </button>
  </header>
  <main class="flex-grow px-4 py-6 max-w-7xl mx-auto w-full">
   <section aria-label="Scenes" class="mb-8">
    <h2 class="text-xl font-semibold mb-4">
     Scenes
    </h2>
    <div class="flex flex-wrap gap-4">
     <button aria-pressed="false" class="neumorphic px-5 py-3 rounded-lg flex items-center gap-3 cursor-pointer hover:shadow-green-400 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-green-400 transition" data-scene="movieNight" type="button">
      <i class="fas fa-film text-green-400 text-lg">
      </i>
      <span>
       Movie Night
      </span>
     </button>
     <button aria-pressed="false" class="neumorphic px-5 py-3 rounded-lg flex items-center gap-3 cursor-pointer hover:shadow-green-400 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-green-400 transition" data-scene="awayMode" type="button">
      <i class="fas fa-plane-departure text-green-400 text-lg">
      </i>
      <span>
       Away Mode
      </span>
     </button>
     <button aria-pressed="false" class="neumorphic px-5 py-3 rounded-lg flex items-center gap-3 cursor-pointer hover:shadow-green-400 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-green-400 transition" data-scene="goodMorning" type="button">
      <i class="fas fa-sun text-green-400 text-lg">
      </i>
      <span>
       Good Morning
      </span>
     </button>
     <button aria-pressed="false" class="neumorphic px-5 py-3 rounded-lg flex items-center gap-3 cursor-pointer hover:shadow-green-400 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-green-400 transition" data-scene="nightMode" type="button">
      <i class="fas fa-moon-stars text-green-400 text-lg">
      </i>
      <span>
       Night Mode
      </span>
     </button>
     <button aria-pressed="false" class="neumorphic px-5 py-3 rounded-lg flex items-center gap-3 cursor-pointer hover:shadow-green-400 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-green-400 transition" data-scene="party" type="button">
      <i class="fas fa-glass-cheers text-green-400 text-lg">
      </i>
      <span>
       Party
      </span>
     </button>
    </div>
   </section>
   <section aria-label="Rooms and Devices" class="space-y-10">
    <!-- Living Room -->
    <div class="room-group neumorphic p-6 rounded-2xl shadow-lg">
     <div class="flex items-center justify-between mb-6">
      <h3 class="text-lg font-semibold">
       Living Room
      </h3>
      <button aria-label="Toggle all devices in Living Room" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
       <input aria-checked="false" class="toggle-checkbox hidden" id="livingRoomToggle" type="checkbox"/>
       <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="livingRoomToggle" tabindex="0">
        <span class="toggle-button absolute left-0 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
        </span>
       </label>
      </button>
     </div>
     <div aria-label="Devices in Living Room" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6" role="list">
      <!-- Light -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="lr-light-1" data-device-type="light" data-room="Living Room" role="listitem">
       <img alt="Minimalist icon of a glowing light bulb with green glow representing a smart light in the living room" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/24c1c5a7-e7d5-4c5d-6eee-4d5e2977c77c.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Ceiling Light
       </h4>
       <button aria-label="Toggle Ceiling Light" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
        <input aria-checked="false" class="toggle-checkbox hidden" id="lr-light-1-toggle" type="checkbox"/>
        <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="lr-light-1-toggle" tabindex="0">
         <span class="toggle-button absolute left-0 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
         </span>
        </label>
       </button>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="lr-light-1-status">
        Off
       </span>
      </article>
      <!-- Thermostat -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="lr-thermostat-1" data-device-type="thermostat" data-room="Living Room" role="listitem">
       <img alt="Minimalist icon of a thermostat dial with temperature display representing smart thermostat in the living room" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/f1afe70e-0682-4368-06d0-34b5d75502c2.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Thermostat
       </h4>
       <input aria-label="Set thermostat temperature" aria-valuemax="80" aria-valuemin="60" aria-valuenow="72" class="w-full mt-2 neumorphic h-6 rounded-lg cursor-pointer" id="lr-thermostat-1-slider" max="80" min="60" step="1" type="range" value="72"/>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="lr-thermostat-1-status">
        72°F
       </span>
      </article>
      <!-- Lock -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="lr-lock-1" data-device-type="lock" data-room="Living Room" role="listitem">
       <img alt="Minimalist icon of a locked padlock representing smart lock in the living room" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/3cc86438-bd5d-4385-877a-bebaf0b29610.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Front Door Lock
       </h4>
       <button aria-label="Toggle Front Door Lock" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
        <input aria-checked="true" checked="" class="toggle-checkbox hidden" id="lr-lock-1-toggle" type="checkbox"/>
        <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="lr-lock-1-toggle" tabindex="0">
         <span class="toggle-button absolute left-6 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
         </span>
        </label>
       </button>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="lr-lock-1-status">
        Locked
       </span>
      </article>
      <!-- Camera -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="lr-camera-1" data-device-type="camera" data-room="Living Room" role="listitem">
       <img alt="Minimalist icon of a security camera representing smart camera in the living room" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/b19cf0ec-29c0-4d38-914a-ebba1c79d53f.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Security Camera
       </h4>
       <button aria-label="Toggle Security Camera" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
        <input aria-checked="true" checked="" class="toggle-checkbox hidden" id="lr-camera-1-toggle" type="checkbox"/>
        <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="lr-camera-1-toggle" tabindex="0">
         <span class="toggle-button absolute left-6 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
         </span>
        </label>
       </button>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="lr-camera-1-status">
        On
       </span>
      </article>
     </div>
    </div>
    <!-- Bedroom -->
    <div class="room-group neumorphic p-6 rounded-2xl shadow-lg">
     <div class="flex items-center justify-between mb-6">
      <h3 class="text-lg font-semibold">
       Bedroom
      </h3>
      <button aria-label="Toggle all devices in Bedroom" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
       <input aria-checked="false" class="toggle-checkbox hidden" id="bedroomToggle" type="checkbox"/>
       <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="bedroomToggle" tabindex="0">
        <span class="toggle-button absolute left-0 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
        </span>
       </label>
      </button>
     </div>
     <div aria-label="Devices in Bedroom" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6" role="list">
      <!-- Light -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="br-light-1" data-device-type="light" data-room="Bedroom" role="listitem">
       <img alt="Minimalist icon of a glowing light bulb with green glow representing a smart light in the bedroom" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/fe5a8dc6-a693-42ab-892b-12684fdfacdd.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Bedside Lamp
       </h4>
       <button aria-label="Toggle Bedside Lamp" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
        <input aria-checked="true" checked="" class="toggle-checkbox hidden" id="br-light-1-toggle" type="checkbox"/>
        <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="br-light-1-toggle" tabindex="0">
         <span class="toggle-button absolute left-6 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
         </span>
        </label>
       </button>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="br-light-1-status">
        On
       </span>
      </article>
      <!-- Thermostat -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="br-thermostat-1" data-device-type="thermostat" data-room="Bedroom" role="listitem">
       <img alt="Minimalist icon of a thermostat dial with temperature display representing smart thermostat in the bedroom" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/ed828894-0145-430c-0b95-c27fa56a3c72.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Thermostat
       </h4>
       <input aria-label="Set thermostat temperature" aria-valuemax="80" aria-valuemin="60" aria-valuenow="70" class="w-full mt-2 neumorphic h-6 rounded-lg cursor-pointer" id="br-thermostat-1-slider" max="80" min="60" step="1" type="range" value="70"/>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="br-thermostat-1-status">
        70°F
       </span>
      </article>
      <!-- Lock -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="br-lock-1" data-device-type="lock" data-room="Bedroom" role="listitem">
       <img alt="Minimalist icon of an unlocked padlock representing smart lock in the bedroom" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/edcdb2d3-764d-4c4b-6c54-08d8d0487e4c.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Balcony Door Lock
       </h4>
       <button aria-label="Toggle Balcony Door Lock" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
        <input aria-checked="false" class="toggle-checkbox hidden" id="br-lock-1-toggle" type="checkbox"/>
        <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="br-lock-1-toggle" tabindex="0">
         <span class="toggle-button absolute left-0 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
         </span>
        </label>
       </button>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="br-lock-1-status">
        Unlocked
       </span>
      </article>
      <!-- Camera -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="br-camera-1" data-device-type="camera" data-room="Bedroom" role="listitem">
       <img alt="Minimalist icon of a security camera representing smart camera in the bedroom" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/19215241-6a1f-4b26-d480-378d78fa5f4d.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Baby Monitor Camera
       </h4>
       <button aria-label="Toggle Baby Monitor Camera" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
        <input aria-checked="true" checked="" class="toggle-checkbox hidden" id="br-camera-1-toggle" type="checkbox"/>
        <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="br-camera-1-toggle" tabindex="0">
         <span class="toggle-button absolute left-6 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
         </span>
        </label>
       </button>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="br-camera-1-status">
        On
       </span>
      </article>
     </div>
    </div>
    <!-- Kitchen -->
    <div class="room-group neumorphic p-6 rounded-2xl shadow-lg">
     <div class="flex items-center justify-between mb-6">
      <h3 class="text-lg font-semibold">
       Kitchen
      </h3>
      <button aria-label="Toggle all devices in Kitchen" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
       <input aria-checked="false" class="toggle-checkbox hidden" id="kitchenToggle" type="checkbox"/>
       <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="kitchenToggle" tabindex="0">
        <span class="toggle-button absolute left-0 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
        </span>
       </label>
      </button>
     </div>
     <div aria-label="Devices in Kitchen" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6" role="list">
      <!-- Light -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="k-light-1" data-device-type="light" data-room="Kitchen" role="listitem">
       <img alt="Minimalist icon of a glowing light bulb with green glow representing a smart light in the kitchen" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/f9eec6a7-e6d6-4326-ef96-f1bb60fc7179.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Overhead Light
       </h4>
       <button aria-label="Toggle Overhead Light" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
        <input aria-checked="true" checked="" class="toggle-checkbox hidden" id="k-light-1-toggle" type="checkbox"/>
        <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="k-light-1-toggle" tabindex="0">
         <span class="toggle-button absolute left-6 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
         </span>
        </label>
       </button>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="k-light-1-status">
        On
       </span>
      </article>
      <!-- Thermostat -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="k-thermostat-1" data-device-type="thermostat" data-room="Kitchen" role="listitem">
       <img alt="Minimalist icon of a thermostat dial with temperature display representing smart thermostat in the kitchen" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/08881c02-7ee7-4027-fe47-9a0088e7e3aa.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Thermostat
       </h4>
       <input aria-label="Set thermostat temperature" aria-valuemax="80" aria-valuemin="60" aria-valuenow="68" class="w-full mt-2 neumorphic h-6 rounded-lg cursor-pointer" id="k-thermostat-1-slider" max="80" min="60" step="1" type="range" value="68"/>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="k-thermostat-1-status">
        68°F
       </span>
      </article>
      <!-- Lock -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="k-lock-1" data-device-type="lock" data-room="Kitchen" role="listitem">
       <img alt="Minimalist icon of a locked padlock representing smart lock in the kitchen" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/e252fd41-8672-4e95-bca1-0f5207948f7c.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Pantry Door Lock
       </h4>
       <button aria-label="Toggle Pantry Door Lock" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
        <input aria-checked="true" checked="" class="toggle-checkbox hidden" id="k-lock-1-toggle" type="checkbox"/>
        <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="k-lock-1-toggle" tabindex="0">
         <span class="toggle-button absolute left-6 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
         </span>
        </label>
       </button>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="k-lock-1-status">
        Locked
       </span>
      </article>
      <!-- Camera -->
      <article class="device-card neumorphic p-4 rounded-xl flex flex-col items-center text-center" data-device-id="k-camera-1" data-device-type="camera" data-room="Kitchen" role="listitem">
       <img alt="Minimalist icon of a security camera representing smart camera in the kitchen" class="mb-3" height="64" loading="lazy" src="https://storage.googleapis.com/a1aa/image/2f92578a-8f3f-4bd6-3edf-f34bef0ee9d6.jpg" width="64"/>
       <h4 class="font-semibold mb-1">
        Kitchen Camera
       </h4>
       <button aria-label="Toggle Kitchen Camera" class="toggle-switch flex items-center cursor-pointer select-none" type="button">
        <input aria-checked="false" class="toggle-checkbox hidden" id="k-camera-1-toggle" type="checkbox"/>
        <label class="toggle-label block w-12 h-6 rounded-full relative neumorphic" for="k-camera-1-toggle" tabindex="0">
         <span class="toggle-button absolute left-0 top-0.5 w-5 h-5 bg-gray-800 rounded-full shadow-md transition-transform">
         </span>
        </label>
       </button>
       <span aria-atomic="true" aria-live="polite" class="mt-2 text-sm text-green-400 font-medium" id="k-camera-1-status">
        Off
       </span>
      </article>
     </div>
    </div>
   </section>
  </main>
  <footer class="px-6 py-4 border-t border-gray-700 text-center text-sm text-gray-500">
   © 2025 (ISR) Smart Home Inc.
  </footer>
  <script>
   // Utility: Update device status text based on toggle or slider
    function updateDeviceStatus(deviceCard) {
      const type = deviceCard.dataset.deviceType;
      const id = deviceCard.dataset.deviceId;
      if (type === 'light' || type === 'lock' || type === 'camera') {
        const toggle = deviceCard.querySelector('input[type="checkbox"]');
        const statusEl = deviceCard.querySelector('span[aria-live]');
        if (!toggle || !statusEl) return;
        let statusText = 'Off';
        if (type === 'light') {
          statusText = toggle.checked ? 'On' : 'Off';
        } else if (type === 'lock') {
          statusText = toggle.checked ? 'Locked' : 'Unlocked';
        } else if (type === 'camera') {
          statusText = toggle.checked ? 'On' : 'Off';
        }
        statusEl.textContent = statusText;
        toggle.setAttribute('aria-checked', toggle.checked);
      } else if (type === 'thermostat') {
        const slider = deviceCard.querySelector('input[type="range"]');
        const statusEl = deviceCard.querySelector('span[aria-live]');
        if (!slider || !statusEl) return;
        statusEl.textContent = slider.value + '°F';
        slider.setAttribute('aria-valuenow', slider.value);
      }
    }

    // Update all devices initially
    document.querySelectorAll('.device-card').forEach(updateDeviceStatus);

    // Add event listeners for toggles and sliders
    document.querySelectorAll('.device-card input[type="checkbox"]').forEach((checkbox) => {
      checkbox.addEventListener('change', (e) => {
        const deviceCard = e.target.closest('.device-card');
        updateDeviceStatus(deviceCard);
        updateRoomToggle(deviceCard.dataset.room);
      });
    });

    document.querySelectorAll('.device-card input[type="range"]').forEach((slider) => {
      slider.addEventListener('input', (e) => {
        const deviceCard = e.target.closest('.device-card');
        updateDeviceStatus(deviceCard);
      });
    });

    // Room toggle controls all devices in that room
    function updateRoomToggle(roomName) {
      const roomGroup = [...document.querySelectorAll('.room-group')].find(
        (group) => group.querySelector('h3').textContent === roomName
      );
      if (!roomGroup) return;
      const roomToggle = roomGroup.querySelector('input[type="checkbox"]');
      const devices = roomGroup.querySelectorAll('.device-card');
      if (!roomToggle) return;

      // Check if all devices are ON/checked (lights, locks, cameras) or at max (thermostats)
      let allOn = true;
      devices.forEach((device) => {
        const type = device.dataset.deviceType;
        if (type === 'thermostat') {
          const slider = device.querySelector('input[type="range"]');
          if (!slider) return;
          // Consider thermostat "on" if above 60°F (lowest)
          if (parseInt(slider.value, 10) <= 60) allOn = false;
        } else {
          const toggle = device.querySelector('input[type="checkbox"]');
          if (!toggle || !toggle.checked) allOn = false;
        }
      });

      roomToggle.checked = allOn;
      roomToggle.setAttribute('aria-checked', allOn);
    }

    // When room toggle changes, toggle all devices in that room accordingly
    document.querySelectorAll('.room-group input[type="checkbox"]').forEach((roomToggle) => {
      roomToggle.addEventListener('change', (e) => {
        const roomGroup = e.target.closest('.room-group');
        const devices = roomGroup.querySelectorAll('.device-card');
        const checked = e.target.checked;

        devices.forEach((device) => {
          const type = device.dataset.deviceType;
          if (type === 'thermostat') {
            const slider = device.querySelector('input[type="range"]');
            if (!slider) return;
            // If toggling ON, set thermostat to 72°F, else 60°F (lowest)
            slider.value = checked ? 72 : 60;
            slider.setAttribute('aria-valuenow', slider.value);
            updateDeviceStatus(device);
          } else {
            const toggle = device.querySelector('input[type="checkbox"]');
            if (!toggle) return;
            toggle.checked = checked;
            toggle.setAttribute('aria-checked', checked);
            updateDeviceStatus(device);
          }
        });
      });
    });

    // Scene presets
    const scenes = {
      movieNight: () => {
        // Living Room: Lights off, Thermostat 70, Locks locked, Cameras on
        setDeviceState('Living Room', {
          light: false,
          thermostat: 70,
          lock: true,
          camera: true,
        });
        // Bedroom: Lights off, Thermostat 68, Locks locked, Cameras on
        setDeviceState('Bedroom', {
          light: false,
          thermostat: 68,
          lock: true,
          camera: true,
        });
        // Kitchen: Lights off, Thermostat 65, Locks locked, Cameras off
        setDeviceState('Kitchen', {
          light: false,
          thermostat: 65,
          lock: true,
          camera: false,
        });
      },
      awayMode: () => {
        // All rooms: Lights off, Thermostat 60, Locks locked, Cameras on
        ['Living Room', 'Bedroom', 'Kitchen'].forEach((room) => {
          setDeviceState(room, {
            light: false,
            thermostat: 60,
            lock: true,
            camera: true,
          });
        });
      },
      goodMorning: () => {
        // Living Room: Lights on, Thermostat 72, Locks unlocked, Cameras off
        setDeviceState('Living Room', {
          light: true,
          thermostat: 72,
          lock: false,
          camera: false,
        });
        // Bedroom: Lights on, Thermostat 70, Locks unlocked, Cameras off
        setDeviceState('Bedroom', {
          light: true,
          thermostat: 70,
          lock: false,
          camera: false,
        });
        // Kitchen: Lights on, Thermostat 70, Locks unlocked, Cameras off
        setDeviceState('Kitchen', {
          light: true,
          thermostat: 70,
          lock: false,
          camera: false,
        });
      },
      nightMode: () => {
        // Living Room: Lights off, Thermostat 65, Locks locked, Cameras on
        setDeviceState('Living Room', {
          light: false,
          thermostat: 65,
          lock: true,
          camera: true,
        });
        // Bedroom: Lights off, Thermostat 65, Locks locked, Cameras on
        setDeviceState('Bedroom', {
          light: false,
          thermostat: 65,
          lock: true,
          camera: true,
        });
        // Kitchen: Lights off, Thermostat 60, Locks locked, Cameras off
        setDeviceState('Kitchen', {
          light: false,
          thermostat: 60,
          lock: true,
          camera: false,
        });
      },
      party: () => {
        // Living Room: Lights on, Thermostat 70, Locks unlocked, Cameras off
        setDeviceState('Living Room', {
          light: true,
          thermostat: 70,
          lock: false,
          camera: false,
        });
        // Bedroom: Lights off, Thermostat 68, Locks locked, Cameras off
        setDeviceState('Bedroom', {
          light: false,
          thermostat: 68,
          lock: true,
          camera: false,
        });
        // Kitchen: Lights on, Thermostat 70, Locks unlocked, Cameras off
        setDeviceState('Kitchen', {
          light: true,
          thermostat: 70,
          lock: false,
          camera: false,
        });
      },
    };

    // Helper to set device states by room and device type states
    function setDeviceState(room, states) {
      const roomGroup = [...document.querySelectorAll('.room-group')].find(
        (group) => group.querySelector('h3').textContent === room
      );
      if (!roomGroup) return;
      const devices = roomGroup.querySelectorAll('.device-card');
      devices.forEach((device) => {
        const type = device.dataset.deviceType;
        if (!(type in states)) return;
        if (type === 'thermostat') {
          const slider = device.querySelector('input[type="range"]');
          if (!slider) return;
          slider.value = states[type];
          slider.setAttribute('aria-valuenow', slider.value);
          updateDeviceStatus(device);
        } else {
          const toggle = device.querySelector('input[type="checkbox"]');
          if (!toggle) return;
          toggle.checked = states[type];
          toggle.setAttribute('aria-checked', states[type]);
          updateDeviceStatus(device);
        }
      });
      // Update room toggle after changes
      updateRoomToggle(room);
    }

    // Scene buttons event listeners
    document.querySelectorAll('[data-scene]').forEach((btn) => {
      btn.addEventListener('click', (e) => {
        const sceneName = e.currentTarget.dataset.scene;
        if (scenes[sceneName]) {
          scenes[sceneName]();
          // Update aria-pressed states
          document.querySelectorAll('[data-scene]').forEach((b) => {
            b.setAttribute('aria-pressed', 'false');
          });
          e.currentTarget.setAttribute('aria-pressed', 'true');
        }
      });
    });

    // Dark mode toggle (for demonstration, toggles between dark and light)
    const darkModeBtn = document.getElementById('toggleDarkMode');
    darkModeBtn.addEventListener('click', () => {
      if (document.documentElement.classList.contains('dark')) {
        document.documentElement.classList.remove('dark');
        document.body.style.backgroundColor = '#121212';
        document.body.style.color = '#e0e0e0';
        darkModeBtn.innerHTML = '<i class="fas fa-moon fa-lg"></i>';
      } else {
        document.documentElement.classList.add('dark');
        document.body.style.backgroundColor = '#f9fafb';
        document.body.style.color = '#111827';
        darkModeBtn.innerHTML = '<i class="fas fa-sun fa-lg"></i>';
      }
    });

    // Initialize with dark mode on
    document.documentElement.classList.add('dark');
  </script>
 </body>
</html>
